{
  "$schema": "http://json-schema.org/draft-04/schema#",
  "idx": "https://fpassembly.org/schemas/fpassembly.json",
  "version": "1",
  "$ref": "#/definitions/definition",
  "definitions": {
    "definition": {
      "title": "Definition",
      "oneOf": [
        {
          "$ref": "#/definitions/function-definition"
        },
        {
          "$ref": "#/definitions/type-definition"
        }
      ]
    },
    "function-definition": {
      "title": "Function Definition",
      "description": "defines a function",
      "type": "object",
      "properties": {
        "identifier": {
          "$ref": "#/definitions/identifier"
        },
        "args": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/symbol"
          }
        }
      },
      "required": [
        "identifier",
        "args"
      ]
    },
    "type-definition": {
      "title": "Type Definition",
      "description": "defines a type",
      "type": "object",
      "properties": {
      }
    },
    "identifier": {
      "title": "Identifier",
      "description": "name of a top-level definition",
      "type": "object",
      "properties": {
        "namespace": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "handle": {
          "type": "string"
        }
      },
      "required": [
        "namespace",
        "handle"
      ]
    },
    "symbol": {
      "title": "Symbol",
      "description": "a local name",
      "type": "object",
      "properties": {
        "handle": {
          "type": "string"
        }
      },
      "required": [
        "handle"
      ]
    }
  }
}